(function(root){
  var AudioApp = root.AudioApp = (root.AudioApp || {});
  var socket = io.connect();

  var cursors = AudioApp.cursors = {};

  var escapeDivText = function(text) {
  	return $("<div></div>").text(text);
  }

  var updateMousePosition = function(data) {
    //data.mouseX and mouseY are ratios of mouse position relative to canvas
    //size of other user
    var canvasWidth = $('#music').width();
    var canvasHeight = $('#music').height();

    cursors[data.nickname].pos = [(data.mouseX * canvasWidth), (data.mouseY * canvasHeight)];
  }

  $(document).ready(function() {
    socket.on('playAudioSend', function(data){
      AudioApp.audioApp.playCurrentInstrument(data.row, data.instrument, data.nickname);
    });

    socket.on('stopAudioSend', function(data){
      AudioApp.audioApp.stopCurrentInstrument(data.row, data.fromMove, data.nickname, data.instrument);
    });

    socket.on('moveCursorSend', function(data){
      // create a cursor for the user if one doesnt exist
      if (!cursors[data.nickname]){
        cursors[data.nickname] = new AudioApp.CanvasCursor(data.nickname);
      }
      updateMousePosition(data);
    });

    socket.on('removeCursor', function(data){
      delete cursors[data.nickname];
    });
  });

  window.fire = function(){
    cursors["bot"] = new AudioApp.CanvasCursor("bot");
    var recording = [{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9653465346534653,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7319277108433735,"mouseY":0.9636963696369637,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.733433734939759,"mouseY":0.9603960396039604,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7364457831325302,"mouseY":0.9455445544554455,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7530120481927711,"mouseY":0.8910891089108911,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8729372937293729,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8696369636963697,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8696369636963697,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8696369636963697,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8696369636963697,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8679867986798679,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8498349834983498,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.8135313531353136,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7575301204819277,"mouseY":0.7788778877887789,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7605421686746988,"mouseY":0.7706270627062707,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.766566265060241,"mouseY":0.7557755775577558,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.766566265060241,"mouseY":0.7541254125412541,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7680722891566265,"mouseY":0.7508250825082509,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.7508250825082509,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.7508250825082509,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.7508250825082509,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.7277227722772277,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.7029702970297029,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7710843373493976,"mouseY":0.7013201320132013,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7710843373493976,"mouseY":0.6996699669966997,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.6996699669966997,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.6996699669966997,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.7029702970297029,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.735973597359736,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.7838283828382838,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.8102310231023102,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.8184818481848185,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7725903614457831,"mouseY":0.8399339933993399,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7695783132530121,"mouseY":0.858085808580858,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7680722891566265,"mouseY":0.8745874587458746,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7650602409638554,"mouseY":0.8877887788778878,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7605421686746988,"mouseY":0.9108910891089109,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7575301204819277,"mouseY":0.9273927392739274,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7575301204819277,"mouseY":0.9306930693069307,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7575301204819277,"mouseY":0.9323432343234324,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9356435643564357,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9356435643564357,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9356435643564357,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9356435643564357,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9356435643564357,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7560240963855421,"mouseY":0.9273927392739274,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.766566265060241,"mouseY":0.7607260726072608,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7966867469879518,"mouseY":0.504950495049505,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8012048192771084,"mouseY":0.44554455445544555,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8042168674698795,"mouseY":0.38613861386138615,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.36468646864686466,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.37293729372937295,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.45544554455445546,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.49834983498349833,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8057228915662651,"mouseY":0.5214521452145214,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8192771084337349,"mouseY":0.4636963696369637,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8403614457831325,"mouseY":0.38943894389438943,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.8433734939759037,"mouseY":0.3795379537953795,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.838855421686747,"mouseY":0.5528052805280528,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.8298192771084337,"mouseY":0.6303630363036303,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.8268072289156626,"mouseY":0.6584158415841584,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.8268072289156626,"mouseY":0.6617161716171617,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.8644578313253012,"mouseY":0.5396039603960396,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8960843373493976,"mouseY":0.47194719471947194,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.9021084337349398,"mouseY":0.48514851485148514,"clicked":true,"row":6,"instrument":"organSynth"},{"mouseX":0.8900602409638554,"mouseY":0.6386138613861386,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.8659638554216867,"mouseY":0.7244224422442245,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.8614457831325302,"mouseY":0.731023102310231,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.8855421686746988,"mouseY":0.6105610561056105,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.911144578313253,"mouseY":0.39603960396039606,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.9126506024096386,"mouseY":0.2508250825082508,"clicked":true,"row":3,"instrument":"organSynth"},{"mouseX":0.911144578313253,"mouseY":0.22112211221122113,"clicked":true,"row":3,"instrument":"organSynth"},{"mouseX":0.9066265060240963,"mouseY":0.15676567656765678,"clicked":true,"row":2,"instrument":"organSynth"},{"mouseX":0.9036144578313253,"mouseY":0.14026402640264027,"clicked":true,"row":2,"instrument":"organSynth"},{"mouseX":0.8975903614457831,"mouseY":0.15676567656765678,"clicked":true,"row":2,"instrument":"organSynth"},{"mouseX":0.8283132530120482,"mouseY":0.4471947194719472,"clicked":true,"row":5,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.599009900990099,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.6567656765676567,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.6914191419141914,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7145214521452146,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7392739273927392,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7574257425742574,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7739273927392739,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.806930693069307,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7921686746987951,"mouseY":0.8531353135313532,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7891566265060241,"mouseY":0.8811881188118812,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7891566265060241,"mouseY":0.8943894389438944,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7876506024096386,"mouseY":0.9042904290429042,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7876506024096386,"mouseY":0.9092409240924092,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7846385542168675,"mouseY":0.9141914191419142,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7831325301204819,"mouseY":0.9207920792079208,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7831325301204819,"mouseY":0.9257425742574258,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.9306930693069307,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.8927392739273927,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7801204819277109,"mouseY":0.8498349834983498,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.786144578313253,"mouseY":0.8415841584158416,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.8333333333333334,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7920792079207921,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7755775577557755,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7951807228915663,"mouseY":0.7739273927392739,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.7981927710843374,"mouseY":0.7194719471947195,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6782178217821783,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":true,"row":8,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6765676567656765,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.802710843373494,"mouseY":0.6732673267326733,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8177710843373494,"mouseY":0.5957095709570958,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8298192771084337,"mouseY":0.5379537953795379,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8313253012048193,"mouseY":0.5379537953795379,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8313253012048193,"mouseY":0.5396039603960396,"clicked":false,"row":0,"instrument":"organSynth"},{"mouseX":0.8313253012048193,"mouseY":0.5462046204620462,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.8313253012048193,"mouseY":0.6254125412541254,"clicked":true,"row":7,"instrument":"organSynth"},{"mouseX":0.8313253012048193,"mouseY":0.759075907590759,"clicked":true,"row":9,"instrument":"organSynth"},{"mouseX":0.8343373493975904,"mouseY":0.9026402640264026,"clicked":true,"row":10,"instrument":"organSynth"},{"mouseX":0.8403614457831325,"mouseY":0.9735973597359736,"clicked":true,"row":11,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.8418674698795181,"mouseY":0.9933993399339934,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"},{"mouseX":0.963855421686747,"mouseY":0.9867986798679867,"clicked":true,"row":0,"instrument":"organSynth"}];
    var i = 0;
    var last_audio_row;
    window.setInterval(function(){
      var rec_data = recording[i];
      rec_data["nickname"] = "bot";
      updateMousePosition(rec_data);
      if (rec_data["clicked"] && rec_data["row"] > 0) {
        if (last_audio_row === rec_data["row"]) {
          AudioApp.audioApp.stopCurrentInstrument(rec_data["row"], true, "bot", rec_data["instrument"]);
        }
        AudioApp.audioApp.playCurrentInstrument(rec_data["row"], rec_data["instrument"], "bot");
        last_audio_row = rec_data["row"];
      } else {
        AudioApp.audioApp.stopCurrentInstrument(rec_data["row"], false, "bot", rec_data["instrument"]);
      }
      i = i + 1;
      if (i > recording.length - 1) {
        i = 0;
      }
    }, 60);
  }
})(this);
